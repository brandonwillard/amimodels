Methodology
===========

Concepts and Approach
---------------------

Our modeling approach to AMI data is to start with the basic
`mixture model <https://en.wikipedia.org/wiki/Mixture_model>`_, under the
assumption that the data can at least be characterized in a piece-wise fashion.
These pieces can also be referred to as components (e.g. in a mixture) or
**states** (e.g. in a Markov chain).  We use the latter term.

Our approach can be understood in phases, or as a process:

    1) Piece-wise/mixture models.

    2) Regression within the mixture states.

        * This means that the behaviour within states could depend on weather and/or location.

    3) Add (relative) time dependency to the occupancy and transitions between states via hidden Markov models (HMM).

    4) Add further, possibly exogenous, dependencies to the transition probabilities.

        * For example, time-of-day and/or weather can be made to increase the probability of being in a "lower" state of energy usage.

This state-wise interpretation provides an arguably simple means
of gradually building up to more complicated models with more sophisticated
considerations.  It also provides an avenue for literal/physical
interpretations of underlying processes, as well as easily comparable terms for
before-and-after comparisons.
In the case where states are ordered by magnitude, it becomes possible to speak
in terms of "low" and "high" usage scenarios, and to compare these ordered
states after assumed interventions/changes in data generating processes.
At time it may also be possible to attribute these "low" states to physical
considerations, such as an "off-time" or "vacation".
Since the states in these models need not appear at fixed or regular
frequencies nor necessitate exogenous variables to (indirectly) indicate their
presence, they are able to account for irregular, but not unexpected, events.
One can imagine, "sick-days" for a residence, for which energy consumption
could be increased relative to the average energy usage when the resident
is at the office.

.. note::
    The models we consider are broadly `discretized <https://en.wikipedia.org/wiki/Discretization>`_
    `state-space models <https://en.wikipedia.org/wiki/State-space_representation>`_.

Challenges
----------

The challenges faced by our methodology include those standard to mixture
modeling and regression.  Specifically, over-fitting and model selection, both
in the state regressions and the number of mixture components.  Our use of
regression within a mixture model can introduce more than the standard
identification issues inherent to mixture modeling.

For instance, consider data generated by a process with easily distinguished
fixed time-of-day changes in usage.  The time-of-day terms can be used as
factors in a regression for a model with only one state, or estimated as a
simple constant means mixture with more states could

We take a global-local shrinkage approach to address some aspects of these
problems.  This approach is seen in our choice of priors for some terms.

In using Markov Chain Monte Carlo (MCMC) for estimation, these methods can
incur a computational cost in comparison to standard point-wise estimation.
However, the sample results of MCMC allow a broader picture of our model
assumptions and its estimation.  We're able to more easily characterize
complicated questions using the sample results, as well.
Regardless, we're not limited to MCMC estimation, since our formulations in
terms of PyMC are symbolic and ultimately provide a total log likelihood that
is amenable to most forms of point-wise estimation.
